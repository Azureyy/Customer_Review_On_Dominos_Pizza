{"ast":null,"code":"var _jsxFileName = \"/Users/azure/Downloads/Dominos_Tweets_Analysis_Webapp-main/src/Components/HomePage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst HomePage = () => {\n  _s();\n\n  const [score, setScore] = useState(null);\n  const [tweets, setTweets] = useState([]);\n  useEffect(() => {\n    fetch(\"https://pro-792c7-default-rtdb.firebaseio.com/stream.json\").then(res => res.json()).then(data => {\n      setTweets([[data['text'], calculateSince(data['created_at']), data['senti_val']], ...tweets]); //subject to change\n\n      console.log(\"set tweet; \", data[\"text\"]);\n    });\n  }, []);\n  useEffect(() => {\n    fetch(\"/dominoScore\").then(res => res.json()).then(data => {\n      console.log(\"set score state: \", data.toString());\n      setScore(data.toString());\n      console.log(\"stored score state: \", data);\n    });\n  }, []);\n\n  function calculateSince(datetime) {\n    var tTime = new Date(datetime);\n    var cTime = new Date();\n    var sinceMin = Math.round((cTime - tTime) / 60000);\n\n    if (sinceMin === 0) {\n      var sinceSec = Math.round((cTime - tTime) / 1000);\n      if (sinceSec < 10) var since = 'less than 10 seconds ago';else if (sinceSec < 20) var since = 'less than 20 seconds ago';else var since = 'half a minute ago';\n    } else if (sinceMin === 1) {\n      var sinceSec = Math.round((cTime - tTime) / 1000);\n      if (sinceSec == 30) var since = 'half a minute ago';else if (sinceSec < 60) var since = 'less than a minute ago';else var since = '1 minute ago';\n    } else if (sinceMin < 45) var since = sinceMin + ' minutes ago';else if (sinceMin > 44 && sinceMin < 60) var since = 'about 1 hour ago';else if (sinceMin < 1440) {\n      var sinceHr = Math.round(sinceMin / 60);\n      if (sinceHr === 1) var since = 'about 1 hour ago';else var since = 'about ' + sinceHr + ' hours ago';\n    } else if (sinceMin > 1439 && sinceMin < 2880) var since = '1 day ago';else {\n      var sinceDay = Math.round(sinceMin / 1440);\n      var since = sinceDay + ' days ago';\n    }\n\n    return since;\n  }\n\n  ;\n  const tweetList = tweets.map(tweet => {\n    return /*#__PURE__*/_jsxDEV(\"a\", {\n      class: \"list-group-item list-group-item-action flex-column align-items-start \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"d-flex w-100 justify-content-between\",\n        children: [tweet[2] >= 0 ? /*#__PURE__*/_jsxDEV(\"h5\", {\n          class: \"mb-1\",\n          children: \"Sentiment: Positive\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 28\n        }, this) : /*#__PURE__*/_jsxDEV(\"h5\", {\n          class: \"mb-1\",\n          children: \"Sentiment: Negative\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 74\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          children: tweet[1]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        class: \"mb-1\",\n        children: tweet[0]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      class: \"masthead bg-primary text-white text-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container d-flex align-items-center flex-column\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          class: \"masthead-avatar mb-5\",\n          src: \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/74/Dominos_pizza_logo.svg/1200px-Dominos_pizza_logo.svg.png\",\n          alt: \"dominos_logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            class: \"masthead-heading text-uppercase mb-0\",\n            children: [!score && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-sync fa-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 31\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 26\n            }, this), score ? score : null, \"/5\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Sentiment Score\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"divider-custom divider-light\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"divider-custom-icon\",\n            children: [score === 1 ? /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fas fa-star\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 30\n            }, this) : null, score === 2 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 19\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 47\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 17\n            }, this) : null, score === 3 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 19\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 47\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 17\n            }, this) : null, score === 4 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 19\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 47\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 19\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 47\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 17\n            }, this) : null, score === 5 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 19\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 47\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 19\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 47\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-star\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 17\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          class: \"masthead-subheading font-weight-light mb-0\",\n          children: [\" \", \"Based on tweets that contains @dominos for the past week, generating in real-time\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"page-section-half\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"container d-flex align-items-center flex-column\",\n      children: [tweets.length !== 0 && /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Latest Tweets that Contains @Dominos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"page-section-little\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 7\n      }, this), tweetList]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"page-section-half\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n};\n\n_s(HomePage, \"miSlYpLyv7yw48vyQwtSod5JYXo=\");\n\n_c = HomePage;\nexport default HomePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"sources":["/Users/azure/Downloads/Dominos_Tweets_Analysis_Webapp-main/src/Components/HomePage.js"],"names":["React","useState","useEffect","HomePage","score","setScore","tweets","setTweets","fetch","then","res","json","data","calculateSince","console","log","toString","datetime","tTime","Date","cTime","sinceMin","Math","round","sinceSec","since","sinceHr","sinceDay","tweetList","map","tweet","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst HomePage = () => {\n  const [score, setScore] = useState(null);\n  const [tweets, setTweets] = useState([]);\n\n  useEffect(() => {\n    fetch(\"https://pro-792c7-default-rtdb.firebaseio.com/stream.json\")\n      .then((res) => res.json())\n      .then((data) => {\n        setTweets([[data['text'], calculateSince(data['created_at']), data['senti_val']],...tweets]);//subject to change\n        console.log(\"set tweet; \", data[\"text\"]);\n      });\n  },[]);\n\n  useEffect(() => {\n    fetch(\"/dominoScore\")\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(\"set score state: \", data.toString());\n        setScore(data.toString())\n        console.log(\"stored score state: \", data);\n      });\n  },[]);\n\n\n  function calculateSince(datetime)\n  {\n      var tTime=new Date(datetime);\n      var cTime=new Date();\n      var sinceMin=Math.round((cTime-tTime)/60000);\n      if(sinceMin===0)\n      {\n          var sinceSec=Math.round((cTime-tTime)/1000);\n          if(sinceSec<10)\n            var since ='less than 10 seconds ago';\n          else if(sinceSec<20)\n            var since ='less than 20 seconds ago';\n          else\n            var since ='half a minute ago';\n      }\n      else if(sinceMin===1)\n      {\n          var sinceSec=Math.round((cTime-tTime)/1000);\n          if(sinceSec==30)\n            var since='half a minute ago';\n          else if(sinceSec<60)\n            var since='less than a minute ago';\n          else\n            var since='1 minute ago';\n      }\n      else if(sinceMin<45)\n          var since=sinceMin+' minutes ago';\n      else if(sinceMin>44&&sinceMin<60)\n          var since='about 1 hour ago';\n      else if(sinceMin<1440){\n          var sinceHr=Math.round(sinceMin/60);\n          if(sinceHr===1)\n            var since='about 1 hour ago';\n          else\n            var since='about '+sinceHr+' hours ago';\n      }\n      else if(sinceMin>1439&&sinceMin<2880)\n          var since='1 day ago';\n      else\n      {\n          var sinceDay=Math.round(sinceMin/1440);\n          var since=sinceDay+' days ago';\n      }\n      return since;\n  };\n\n  const tweetList = tweets.map( tweet => {\n    return (\n      <a class=\"list-group-item list-group-item-action flex-column align-items-start \">\n      <div class=\"d-flex w-100 justify-content-between\">\n         {tweet[2] >= 0 ? (<h5 class=\"mb-1\">Sentiment: Positive</h5>) : (<h5 class=\"mb-1\">Sentiment: Negative</h5>)}\n        <small>{tweet[1]}</small>\n      </div>\n      <p class=\"mb-1\">\n        {tweet[0]}\n      </p>\n    </a>\n\n    )\n  }\n  )\n\n  return (\n    <div>\n      <header class=\"masthead bg-primary text-white text-center\">\n        <div class=\"container d-flex align-items-center flex-column\">\n          <img\n            class=\"masthead-avatar mb-5\"\n            src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/7/74/Dominos_pizza_logo.svg/1200px-Dominos_pizza_logo.svg.png\"\n            alt=\"dominos_logo\"\n          />\n\n          <div>\n            <h1 class=\"masthead-heading text-uppercase mb-0\">\n              {!score && <div><i class=\"fas fa-sync fa-spin\"></i></div>}\n              {score ? score  : null}/5\n            </h1>\n          </div>\n\n          <h3>Sentiment Score</h3>\n\n          <div class=\"divider-custom divider-light\">\n            <div class=\"divider-custom-icon\">\n              {score === 1 ? <i class=\"fas fa-star\"></i> : null}\n              {score === 2 ? (\n                <div>\n                  {\" \"}\n                  <i class=\"fas fa-star\"></i> <i class=\"fas fa-star\"></i>\n                </div>\n              ) : null}\n              {score === 3 ? (\n                <div>\n                  {\" \"}\n                  <i class=\"fas fa-star\"></i> <i class=\"fas fa-star\"></i>{\" \"}\n                  <i class=\"fas fa-star\"></i>\n                </div>\n              ) : null}\n              {score === 4 ? (\n                <div>\n                  {\" \"}\n                  <i class=\"fas fa-star\"></i> <i class=\"fas fa-star\"></i>{\" \"}\n                  <i class=\"fas fa-star\"></i> <i class=\"fas fa-star\"></i>\n                </div>\n              ) : null}\n              {score === 5 ? (\n                <div>\n                  {\" \"}\n                  <i class=\"fas fa-star\"></i> <i class=\"fas fa-star\"></i>{\" \"}\n                  <i class=\"fas fa-star\"></i> <i class=\"fas fa-star\"></i>{\" \"}\n                  <i class=\"fas fa-star\"></i>\n                </div>\n              ) : null}\n            </div>\n          </div>\n\n          <p class=\"masthead-subheading font-weight-light mb-0\">\n            {\" \"}\n            Based on tweets that contains @dominos for the past week,\n            generating in real-time\n          </p>\n        </div>\n      </header>\n      <div class=\"page-section-half\"></div>\n      \n      <div class=\"container d-flex align-items-center flex-column\">\n      {tweets.length !== 0 && <h3>Latest Tweets that Contains @Dominos</h3>}\n      <div class = \"page-section-little\"></div>\n            {tweetList}\n      </div>\n      <div class=\"page-section-half\"></div>\n    </div>\n    \n  );\n};\n\nexport default HomePage;\n"]},"metadata":{},"sourceType":"module"}