{"ast":null,"code":"var _jsxFileName = \"/Users/azure/Downloads/Dominos_Tweets_Analysis_Webapp-main/src/Components/UserNLP.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserNLP = () => {\n  _s();\n\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [step1Completed, setStep1Completed] = useState(null);\n  const [metadata, setMetadata] = useState(null);\n  const [imgUrl, setImgUrl] = useState(null);\n  const [step2Completed, setStep2Completed] = useState(null);\n  const [userScore, setUserScore] = useState(null);\n  const [step3Completed, setStep3Completed] = useState(true);\n  useEffect(() => {\n    setStep3Completed(true);\n  }, [userScore]);\n\n  const handleSubmitFile = e => {\n    e.preventDefault();\n    console.log('uploaded', selectedFile);\n    const fileReader = new FileReader();\n    fileReader.readAsText(e.target.files[0], \"UTF-8\");\n\n    fileReader.onload = e => {\n      setSelectedFile(e.target.result);\n    };\n  };\n\n  const handleCompleteStep1 = e => {\n    e.preventDefault();\n    setStep1Completed(true);\n    console.log(\"step1 complete\", selectedFile);\n  }; //functions for step2\n\n\n  function getMeta(url) {\n    const img = new Image();\n    img.addEventListener(\"load\", function () {\n      alert(\"The size of the uploaded image is \" + this.naturalWidth + \" X \" + this.naturalHeight);\n    });\n    img.src = url;\n  }\n\n  function memorySizeOf(obj) {\n    var bytes = 0;\n\n    function sizeOf(obj) {\n      if (obj !== null && obj !== undefined) {\n        // eslint-disable-next-line default-case\n        switch (typeof obj) {\n          case \"number\":\n            bytes += 8;\n            break;\n\n          case \"string\":\n            bytes += obj.length * 2;\n            break;\n\n          case \"boolean\":\n            bytes += 4;\n            break;\n\n          case \"object\":\n            var objClass = Object.prototype.toString.call(obj).slice(8, -1);\n\n            if (objClass === \"Object\" || objClass === \"Array\") {\n              for (var key in obj) {\n                if (!obj.hasOwnProperty(key)) continue;\n                sizeOf(obj[key]);\n              }\n            } else bytes += obj.toString().length * 2;\n\n            break;\n        }\n      }\n\n      return bytes;\n    }\n\n    function formatByteSize(bytes) {\n      if (bytes < 1024) return bytes + \" bytes\";else if (bytes < 1048576) return (bytes / 1024).toFixed(3) + \" KiB\";else if (bytes < 1073741824) return (bytes / 1048576).toFixed(3) + \" MiB\";else return (bytes / 1073741824).toFixed(3) + \" GiB\";\n    }\n\n    return formatByteSize(sizeOf(obj));\n  }\n\n  const handleReadMetaData = e => {\n    e.preventDefault();\n    console.log(selectedFile);\n    const JSONfile = JSON.parse(selectedFile);\n    const firstline = JSONfile[0]; //extracting attributes\n\n    const attributes = 1;\n    const filesize = memorySizeOf(selectedFile); //setting output hashmap\n\n    const output = new Map();\n    output.set(\"firstFiveLines\", JSON.stringify({\n      \"0\": JSONfile[0],\n      \"1\": JSONfile[1],\n      \"2\": JSONfile[2],\n      \"3\": JSONfile[3],\n      \"4\": JSONfile[4]\n    }, null, '\\t'));\n    output.set(\"numOfAttributes\", attributes);\n    output.set(\"numOfRows\", Object.keys(JSONfile).length);\n    output.set(\"filesize\", filesize);\n    setMetadata(output);\n    console.log('metadata', metadata);\n    setStep2Completed(true);\n  }; //functions for step 3\n\n\n  const handleGetScore = e => {\n    e.preventDefault();\n    setStep3Completed(false);\n    fetch('/getUserScore', {\n      method: 'POST',\n      body: selectedFile\n    }).then(res => res.json()).then(data => {\n      console.log('User Score: ', data);\n      setUserScore(parseFloat(data[\"score\"]));\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      class: \"masthead bg-primary text-white text-center\",\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        class: \"page-section portfolio\",\n        id: \"portfolio\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              class: \"page-section-heading text-center text-uppercase mb-0\",\n              children: \"Check Sentiment with Your Own Data\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"divider-custom page-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"divider-custom-line\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"divider-custom-icon\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Step 1 : Upload Your Data\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"divider-custom-line\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"text-center mt-4 center-block\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              class: \"justify-content-center\",\n              onChange: handleSubmitFile\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleCompleteStep1,\n              class: \"btn btn-secondary \",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-upload me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 17\n              }, this), \"Upload\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), step1Completed && /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"text-center mt-4 center-block\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fas fa-check-circle fa-2x\",\n              style: {\n                color: \"#A52A2A\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 17\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: \"#A52A2A\"\n              },\n              children: \"Completed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"divider-custom page-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"divider-custom-line\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"divider-custom-icon\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Step 2 : Feature Extraction\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"divider-custom-line\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"divider-custom text-center mt-4 center-block\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleReadMetaData,\n              type: \"button\",\n              class: \"btn btn-secondary\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-database me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this), \" Conduct Feature Extraction\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"divider-custom\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Number of Attributes :\", \" \", step2Completed && metadata.get(\"numOfAttributes\")]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"divider-custom\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Number of Rows : \", step2Completed && metadata.get(\"numOfRows\")]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"divider-custom\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\" File Size : \", step2Completed && metadata.get(\"filesize\")]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \" Data Preview :\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"divider-custom\",\n            children: /*#__PURE__*/_jsxDEV(\"pre\", {\n              id: \"json\",\n              children: step2Completed && metadata.get(\"firstFiveLines\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \" Image Size : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"divider-custom\",\n            children: [step2Completed && getMeta(''), /*#__PURE__*/_jsxDEV(\"input\", {\n              class: \"form-control\",\n              onChange: e => setImgUrl(e.target.value),\n              type: \"text\",\n              placeholder: \" Enter an image url and a popup message will show up !\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              class: \"btn btn-secondary\",\n              onClick: () => getMeta(imgUrl),\n              value: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), step2Completed && /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"text-center mt-4 center-block\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fas fa-check-circle fa-2x\",\n              style: {\n                color: \"#A52A2A\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: \"#A52A2A\"\n              },\n              children: \"Completed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"divider-custom page-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"divider-custom-line\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"divider-custom-icon\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Step 3 : Get sentiment from your Twitter Data! \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"divider-custom-line\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"divider-custom row justify-content-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"divider-custom text-center mt-4 center-block\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleGetScore,\n                type: \"button\",\n                class: \"btn btn-secondary\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fas fa-rocket me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 19\n                }, this), \" Get Result\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"divider-custom\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Sentiment from your Tweets :\", step3Completed === false && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fas fa-sync fa-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 52\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 47\n              }, this), typeof userScore !== undefined && /*#__PURE__*/_jsxDEV(\"h1\", {\n                children: [userScore, \"/5\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 54\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserNLP, \"ffHglZQNmGZqYl+PQC86YeqLF/g=\");\n\n_c = UserNLP;\nexport default UserNLP;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserNLP\");","map":{"version":3,"sources":["/Users/azure/Downloads/Dominos_Tweets_Analysis_Webapp-main/src/Components/UserNLP.js"],"names":["React","useState","useEffect","UserNLP","selectedFile","setSelectedFile","step1Completed","setStep1Completed","metadata","setMetadata","imgUrl","setImgUrl","step2Completed","setStep2Completed","userScore","setUserScore","step3Completed","setStep3Completed","handleSubmitFile","e","preventDefault","console","log","fileReader","FileReader","readAsText","target","files","onload","result","handleCompleteStep1","getMeta","url","img","Image","addEventListener","alert","naturalWidth","naturalHeight","src","memorySizeOf","obj","bytes","sizeOf","undefined","length","objClass","Object","prototype","toString","call","slice","key","hasOwnProperty","formatByteSize","toFixed","handleReadMetaData","JSONfile","JSON","parse","firstline","attributes","filesize","output","Map","set","stringify","keys","handleGetScore","fetch","method","body","then","res","json","data","parseFloat","color","get","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\n\nconst UserNLP = () => {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [step1Completed, setStep1Completed] = useState(null);\n  const [metadata, setMetadata] = useState(null);\n  const [imgUrl, setImgUrl] = useState(null);\n  const [step2Completed, setStep2Completed] = useState(null);\n  const [userScore, setUserScore] = useState(null);\n  const [step3Completed, setStep3Completed] = useState(true)\n  \n\n  useEffect(\n      () => {\n      setStep3Completed(true);\n    },[userScore]);\n\n  const handleSubmitFile = (e) => {\n    e.preventDefault();\n    console.log('uploaded',selectedFile);\n    const fileReader = new FileReader();\n    fileReader.readAsText(e.target.files[0], \"UTF-8\");\n    fileReader.onload = (e) => {\n      setSelectedFile(e.target.result);\n    };\n  };\n\n  const handleCompleteStep1 = (e) => {\n    e.preventDefault();\n    setStep1Completed(true);\n    console.log(\"step1 complete\",selectedFile)\n  };\n\n  //functions for step2\n  function getMeta(url) {\n    const img = new Image();\n    img.addEventListener(\"load\", function () {\n      alert(\n        \"The size of the uploaded image is \" +\n          this.naturalWidth +\n          \" X \" +\n          this.naturalHeight\n      );\n    });\n    img.src = url;\n  }\n\n  function memorySizeOf(obj) {\n    var bytes = 0;\n    function sizeOf(obj) {\n      if (obj !== null && obj !== undefined) {\n        // eslint-disable-next-line default-case\n        switch (typeof obj) {\n          case \"number\":\n            bytes += 8;\n            break;\n          case \"string\":\n            bytes += obj.length * 2;\n            break;\n          case \"boolean\":\n            bytes += 4;\n            break;\n          case \"object\":\n            var objClass = Object.prototype.toString.call(obj).slice(8, -1);\n            if (objClass === \"Object\" || objClass === \"Array\") {\n              for (var key in obj) {\n                if (!obj.hasOwnProperty(key)) continue;\n                sizeOf(obj[key]);\n              }\n            } else bytes += obj.toString().length * 2;\n            break;\n        }\n      }\n      return bytes;\n    }\n\n    function formatByteSize(bytes) {\n      if (bytes < 1024) return bytes + \" bytes\";\n      else if (bytes < 1048576) return (bytes / 1024).toFixed(3) + \" KiB\";\n      else if (bytes < 1073741824) return (bytes / 1048576).toFixed(3) + \" MiB\";\n      else return (bytes / 1073741824).toFixed(3) + \" GiB\";\n    }\n\n    return formatByteSize(sizeOf(obj));\n  }\n\n  const handleReadMetaData = (e) => {\n    e.preventDefault();\n    console.log(selectedFile);\n    const JSONfile = JSON.parse(selectedFile);\n    const firstline = JSONfile[0];\n    //extracting attributes\n    const attributes = 1;\n    const filesize = memorySizeOf(selectedFile);\n\n    //setting output hashmap\n    const output = new Map();\n    output.set(\n      \"firstFiveLines\",\n      JSON.stringify({\"0\":JSONfile[0],\"1\":JSONfile[1], \"2\":JSONfile[2],\"3\":JSONfile[3], \"4\":JSONfile[4]},null,'\\t')\n    );\n    output.set(\"numOfAttributes\", attributes);\n    output.set(\"numOfRows\", Object.keys(JSONfile).length);\n    output.set(\"filesize\", filesize);\n    setMetadata(output);\n\n    console.log('metadata', metadata);\n    setStep2Completed(true);\n  };\n\n  //functions for step 3\n\n  const handleGetScore = (e) => {\n    e.preventDefault();\n    setStep3Completed(false);\n    fetch('/getUserScore',{\n        method: 'POST',\n        body: selectedFile\n      }).then(\n        res => res.json()\n      ).then(\n        data => {\n          console.log('User Score: ', data);\n          setUserScore(parseFloat(data[\"score\"]))\n        })   \n  };\n\n  return (\n    <div>\n      <header class=\"masthead bg-primary text-white text-center\">\n        <section class=\"page-section portfolio\" id=\"portfolio\">\n          <div class=\"container\">\n            <div>\n              <h2 class=\"page-section-heading text-center text-uppercase mb-0\">\n                Check Sentiment with Your Own Data\n              </h2>\n            </div>\n\n            <div class=\"divider-custom page-section\">\n              <div class=\"divider-custom-line\"></div>\n              <div class=\"divider-custom-icon\">\n                <h3>Step 1 : Upload Your Data</h3>\n              </div>\n              <div class=\"divider-custom-line\"></div>\n            </div>\n            <div class=\"text-center mt-4 center-block\">\n              <input\n                type=\"file\"\n                class=\"justify-content-center\"\n                onChange={handleSubmitFile}\n              />\n              <button onClick={handleCompleteStep1} class=\"btn btn-secondary \">\n                {\" \"}\n                <i class=\"fas fa-upload me-2\"></i>Upload\n              </button>\n            </div>\n            {step1Completed && (\n              <div class=\"text-center mt-4 center-block\">\n                <i\n                  class=\"fas fa-check-circle fa-2x\"\n                  style={{ color: \"#A52A2A\" }}\n                ></i>{\" \"}\n                <p style={{ color: \"#A52A2A\" }}>Completed</p>\n              </div>\n            )}\n\n\n            <div class=\"divider-custom page-section\">\n              <div class=\"divider-custom-line\"></div>\n              <div class=\"divider-custom-icon\">\n                <h3>Step 2 : Feature Extraction</h3>\n              </div>\n              <div class=\"divider-custom-line\"></div>\n            </div>\n            <div class=\"divider-custom text-center mt-4 center-block\">\n              <button\n                onClick={handleReadMetaData}\n                type=\"button\"\n                class=\"btn btn-secondary\"\n              >\n                <i class=\"fas fa-database me-2\"></i> Conduct Feature Extraction\n              </button>\n            </div>\n            <div class=\"divider-custom\">\n              <p>\n                Number of Attributes :{\" \"}\n                {step2Completed && metadata.get(\"numOfAttributes\")}\n              </p>\n            </div>\n            <div class=\"divider-custom\">\n              <p>\n                Number of Rows : {step2Completed && metadata.get(\"numOfRows\")}\n              </p>\n            </div>\n            <div class=\"divider-custom\">\n              <p> File Size : {step2Completed && metadata.get(\"filesize\")}</p>\n              \n            </div>\n\n            <p> Data Preview :</p>\n            <div class=\"divider-custom\">\n            <pre id=\"json\">{step2Completed && metadata.get(\"firstFiveLines\")}</pre>\n            </div>\n            <p> Image Size : </p>\n            <div class=\"divider-custom\">\n              {step2Completed && getMeta('')}\n                    <input class=\"form-control\" onChange={(e)=> setImgUrl(e.target.value)} type=\"text\" placeholder=\" Enter an image url and a popup message will show up !\"/>\n                    <input class=\"btn btn-secondary\" onClick={()=> getMeta(imgUrl)} value=\"Submit\" />\n            </div>\n            {step2Completed && (\n              <div class=\"text-center mt-4 center-block\">\n                <i\n                  class=\"fas fa-check-circle fa-2x\"\n                  style={{ color: \"#A52A2A\" }}\n                ></i>{\" \"}\n                <p style={{ color: \"#A52A2A\" }}>Completed</p>\n              </div>\n            )}\n\n\n            <div class=\"divider-custom page-section\">\n              <div class=\"divider-custom-line\"></div>\n              <div class=\"divider-custom-icon\">\n                <h3>Step 3 : Get sentiment from your Twitter Data! </h3>\n              </div>\n              <div class=\"divider-custom-line\"></div>\n            </div>\n            <div class=\"divider-custom row justify-content-center\">\n              <div class=\"divider-custom text-center mt-4 center-block\">\n                <button\n                  onClick={handleGetScore}\n                  type=\"button\"\n                  class=\"btn btn-secondary\"\n                >\n                  <i class=\"fas fa-rocket me-2\"></i> Get Result\n                </button>\n              </div>\n            </div>\n            <div class=\"divider-custom\">\n              <p> \n                Sentiment from your Tweets :\n                { step3Completed === false && <div><i class=\"fas fa-sync fa-spin\"></i></div> } \n                { typeof userScore !== undefined &&  <h1>{userScore}/5</h1>}\n                \n              </p>\n            </div>\n          </div>\n        </section>\n      </header>\n    </div>\n  );\n};\n\nexport default UserNLP;\n"]},"metadata":{},"sourceType":"module"}